{"version":3,"sources":["server.js","room.js","client.js","App.js","reportWebVitals.js","index.js"],"names":["sendChannel","Remote","p","className","for","name","value","this","props","con","state","c","id","type","onClick","server","cal","Component","Server","send","bind","lc","createDataChannel","onicecandidate","e","app","setState","JSON","stringify","localDescription","onmessage","messages","concat","data","console","log","onopen","onclose","createOffer","then","o","setLocalDescription","r","document","getElementById","setRemoteDescription","parse","a","chat","rd","onSubmit","length","Client","localConnection","RTCPeerConnection","App","client","setClient","setServer","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.75a120a0.chunk.js","sourcesContent":["import './App.css';\r\nimport Remote from './room';\r\nimport 'react-chatbox-component/dist/style.css';\r\nimport {ChatBox} from 'react-chatbox-component';\r\nimport React, { Component } from 'react';\r\nvar sendChannel;\r\nclass Server extends Component  {\r\n    constructor(p)\r\n    {\r\n      super(p);\r\n      this.send= this.send.bind(this);\r\n      this.cal= this.cal.bind(this);\r\n      sendChannel = this.props.lc.createDataChannel(\"sendChannel\");\r\n      this.props.lc.onicecandidate = e =>  {\r\n        this.props.app.setState({c: JSON.stringify(this.props.lc.localDescription)});\r\n        }\r\n     \r\n        sendChannel.onmessage =e =>  {\r\n          this.props.app.setState({ \r\n           messages: this.props.app.state.messages.concat([{\r\n            \"text\":e.data,\r\n            \"id\":\"1\",\r\n            \"sender\": {\r\n              \"name\": \"He\",\r\n              \"uid\": \"user2\",\r\n              \"avatar\": \"https://i.guim.co.uk/img/media/d31ebd49b32a5aa609a584ababb1e03bc70b4942/573_213_2929_1758/master/2929.jpg?width=445&quality=45&auto=format&fit=max&dpr=2&s=a54fc963e39dd6645fce012663ed13c1\",\r\n            }\r\n          }])\r\n          });\r\n          \r\n          console.log(this.props.app.state.messages);  };\r\n        sendChannel.onopen = e => console.log(\"open!!!!\");\r\n          sendChannel.onclose =e => console.log(\"closed!!!!!!\");\r\n     \r\n     \r\n          this.props.lc.createOffer().then(o => this.props.lc.setLocalDescription(o) );\r\n    }\r\n    send(e)\r\n  {\r\n    this.props.app.setState({ \r\n      messages: this.props.app.state.messages.concat([{\r\n       \"text\":e,\r\n       \"id\":\"1\",\r\n       \"sender\": {\r\n         \"name\": \"ME\",\r\n         \"uid\": \"user1\",\r\n         \"avatar\": \"https://cdn.dribbble.com/users/1041205/screenshots/3636353/dribbble.jpg\",\r\n       }\r\n     }])\r\n     });\r\n     sendChannel.send(e);\r\n  }\r\n  cal()\r\n  {\r\n    this.props.app.setState({r:document.getElementById(\"lk\").value});\r\n      this.props.lc.setRemoteDescription (JSON.parse(document.getElementById(\"lk\").value)).then(a=>this.props.app.chat());        \r\n}\r\n    render()\r\n  {\r\n    return (\r\n      <div className=\"App\">\r\n          This is server\r\n           {this.props.app.state.rd?<Remote con={this.props.app} server={this}></Remote>:\"\"}\r\n           {this.props.app.state.rd?\r\n        \"\"\r\n        :\r\n        <div className='container'>  \r\n        <div className='chat-header'>   \r\n        <h5>Chat</h5> \r\n        </div>  \r\n        <div id=\"ko\">\r\n        <ChatBox key={this.props.app.state.messages.length} onSubmit={this.send} messages={this.props.app.state.messages} />\r\n        </div>\r\n        </div>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n  export default Server;","import React, { Component } from 'react';\r\nclass Remote extends Component  {\r\n    constructor(p)\r\n    {\r\n      super(p);\r\n    }\r\n    render()\r\n  {\r\n    return (\r\n      <div className=\"App\">\r\n          <label for=\"pid\">Your Prop</label>\r\n          <textarea name=\"pid\" value={this.props.con.state.c}/><br></br>\r\n        <label for=\"rid\">Room Id</label>\r\n        <textarea name=\"rid\" id=\"lk\"/>\r\n        <button type=\"submit\" onClick={this.props.server.cal}>Connect</button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n  export default Remote;\r\n  // const remoteConnection = new RTCPeerConnection({ 'iceServers': [{ 'urls': 'stun:74.125.142.127:19302' }] })\r\n\r\n  // remoteConnection.onicecandidate = e =>  {\r\n  // console.log(\" NEW ice candidnat!! on localconnection reprinting SDP \" )\r\n  //  console.log(JSON.stringify(remoteConnection.localDescription) )\r\n  // }\r\n  \r\n   \r\n  // remoteConnection.ondatachannel= e => {\r\n  \r\n  //       const receiveChannel = e.channel;\r\n  //       receiveChannel.onmessage =e =>  console.log(\"messsage received!!!\"  + e.data )\r\n  //       receiveChannel.onopen = e => console.log(\"open!!!!\");\r\n  //       receiveChannel.onclose =e => console.log(\"closed!!!!!!\");\r\n  //       remoteConnection.channel = receiveChannel;\r\n  \r\n  // }\r\n  \r\n  \r\n  // remoteConnection.setRemoteDescription(offer).then(a=>console.log(\"done\"))\r\n  // await remoteConnection.createAnswer().then(a => remoteConnection.setLocalDescription(a));","import './App.css';\r\nimport Remote from './room';\r\nimport 'react-chatbox-component/dist/style.css';\r\nimport {ChatBox} from 'react-chatbox-component';\r\nimport React, { Component } from 'react';\r\nclass Client extends Component  {\r\n    constructor(p)\r\n    {\r\n      super(p);\r\n    }\r\n \r\n    render()\r\n  {\r\n    return (\r\n      <div className=\"App\">\r\n          This is client\r\n           {this.props.app.state.rd?<Remote con={this.props.app} server={this}></Remote>:\"\"}\r\n           {this.props.app.state.rd?\r\n        \"\"\r\n        :\r\n        <div className='container'>  \r\n        <div className='chat-header'>   \r\n        <h5>Chat</h5> \r\n        </div>  \r\n        <div id=\"ko\">\r\n        <ChatBox key={this.props.app.state.messages.length} onSubmit={this.send} messages={this.props.app.state.messages} />\r\n        </div>\r\n        </div>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n  export default Client;","import './App.css';\nimport Server from './server';\nimport React, { Component } from 'react';\nimport Client from './client';\nimport 'react-chatbox-component/dist/style.css';\n// const lc=new RTCPeerConnection()\n// const dc=lc.createDataChannel(\"channel\")\n// lc.onicecandidate=e=>console.log(\"hjgjg \"+JSON.stringify(lc.localDescription))\n// lc.createOffer().then(o=>lc.setLocalDescription(o)).then(a=>console.log(\"set\"))\nconst localConnection = new RTCPeerConnection({ 'iceServers': [{ 'urls': 'stun:74.125.142.127:19302' }] });\nclass App extends Component \n{\n  constructor(p)\n  {\n    super(p);\n    this.state = \n    {\n      rd:true,\n      c:\"\",\n      r:\"\",\n      messages:[],\n      server:true,\n      client:false\n    }\n    this.chat= this.chat.bind(this);\n    this.setClient= this.setClient.bind(this);\n    this.setServer= this.setServer.bind(this);\n  }\n  chat()\n  {\n    this.setState({rd: false});\n  }\n\n  setServer()\n  {\n    this.setState({server: true,client:false});\n  }\n\n  setClient()\n  {\n    this.setState({client: true,server:false});\n  }\n\n  render()\n  {\n    return(\n      <div className=\"App\">\n       {this.state.rd?<button onClick={this.setServer}>Server</button>:\"\"}{this.state.rd?<button  onClick={this.setClient}>Client</button>:\"\"}\n        {this.state.server?<Server app={this} lc={localConnection}></Server>:\"\"}\n        {this.state.client?<Client app={this} lc={localConnection}></Client>:\"\"}\n        {/* {msg.map(item => (\n        <li key={item}>{item}</li>\n      ))} */}\n      </div>\n    );\n  }\n}\n\nexport default App;\n//https://github.com/hnasr/javascript_playground/blob/master/webrtc/peerA_final.js\n// remoteConnection.channel.send(\"sdfdas\")\n//https://www.npmjs.com/package/react-chatbox-component","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\nreportWebVitals();\n"],"sourceRoot":""}